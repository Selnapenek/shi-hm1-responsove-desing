!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="./static/js/",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _menu=__webpack_require__(1),_menu2=_interopRequireDefault(_menu),_addition__cam=__webpack_require__(2),_addition__cam2=_interopRequireDefault(_addition__cam);(0,_menu2.default)(),(0,_addition__cam2.default)()},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){function classToggle(){var nav=document.querySelector(".menu");nav.classList.toggle("menu_show")}document.querySelector(".menu__icon").addEventListener("click",classToggle)}},function(module,exports){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var cam=document.querySelector(".addition__cam__img"),camContainer=document.querySelector(".addition__cam"),zommValue=document.querySelector(".addition__cam__zoom .addition__optional__value"),brightValue=document.querySelector(".addition__cam__brightness .addition__optional__value");globalVars.el=cam,globalVars.elLimit.MaxWidth=safeParseInt(getComputedStyle(globalVars.el).width),globalVars.elLimit.MaxHeight=safeParseInt(getComputedStyle(globalVars.el).height),globalVars.elLimit.MinWidth=safeParseInt(getComputedStyle(globalVars.el).width),globalVars.elLimit.MinHeight=safeParseInt(getComputedStyle(globalVars.el).height),globalVars.elLimit.offsetX=safeParseInt(getComputedStyle(camContainer).width),globalVars.elLimit.offsetY=safeParseInt(getComputedStyle(camContainer).height),globalVars.coefficient=.01*safeParseInt(getComputedStyle(globalVars.el).height),cam.addEventListener("pointerdown",pointerdownHandler),cam.addEventListener("pointermove",pointermoveHandler),cam.addEventListener("pointerup",pointerupHandler),cam.addEventListener("pointercancel",pointerupHandler),cam.addEventListener("pointerout",pointerupHandler),cam.addEventListener("pointerleave",pointerupHandler);var mutationObserver=new MutationObserver(function(mutations){mutations.forEach(function(mutation){if("attributes"===mutation.type&&"style"===mutation.attributeName){var str=(100*getTransformMatrix(globalVars.el)[0]).toFixed(0);zommValue.textContent=str+" %",str=safeParseFloat(getComputedStyle(globalVars.el).filter),brightValue.textContent=(100*str).toFixed(0)+" %"}})}),mutationConfig={attributes:!0};mutationObserver.observe(cam,mutationConfig)};var globalVars={currentState:null,evCache:[],prevDiff:-1,prevAngle:-1,el:null,elLimit:{MaxWidth:0,MinWidth:0,MaxHeight:0,MinHeight:0,offsetX:0,offsetY:0}},setState=function(ev){globalVars.currentState={startX:ev.x,startY:ev.y,clientX:ev.clientX,clientY:ev.clientY}},getDiffXY=function(x,y){var _globalVars$currentSt=globalVars.currentState,startX=_globalVars$currentSt.startX,startY=_globalVars$currentSt.startY,dx=x-startX,dy=y-startY;return{dx:dx,dy:dy}},safeParseInt=function(val){return parseInt(isNaN(val)?val.replace(/[^-\d]\.+/g,""):val,10)},safeParseFloat=function(val){return parseFloat(isNaN(val)?val.replace(/[^\d\.]+/g,""):val)},roundFloat=function(number){return Math.round(100*number)/100},changeElemenStyle=function(el,value,styleKey,strBefore,strAfter){if("transform"!==styleKey){var prevStyle=safeParseFloat(getComputedStyle(el)[styleKey]),newStyle=prevStyle+parseFloat(value);2===(arguments.length<=5?0:arguments.length-5)&&(newStyle=newStyle<(arguments.length<=5?void 0:arguments[5])?arguments.length<=5?void 0:arguments[5]:newStyle,newStyle=newStyle>(arguments.length<=6?void 0:arguments[6])?arguments.length<=6?void 0:arguments[6]:newStyle),el.style[styleKey]=strBefore+roundFloat(newStyle)+strAfter}},getTransformMatrix=function(el){var transform=[].concat(_toConsumableArray(getComputedStyle(el).transform.replace(/,/g,""))),indexToDel=transform.indexOf(")");transform.splice(indexToDel,1),transform.splice(0,7);var matrixArray=transform.join("").split(" ");return matrixArray},changeElementTransform=function(el,value,limitationMinMax){var matrix=getTransformMatrix(el),newValue=matrix.map(function(item,index){return roundFloat(isNaN(limitationMinMax[0][index])&&isNaN(limitationMinMax[1][index])?parseFloat(item)+value[index]:parseFloat(item)+value[index]<limitationMinMax[0][index]?limitationMinMax[0][index]:parseFloat(item)+value[index]>limitationMinMax[1][index]?limitationMinMax[1][index]:parseFloat(item)+value[index])}).join(", ");el.style.transform="matrix("+newValue+")"},pointerdownHandler=function(ev){setState(ev),globalVars.evCache.push(ev),globalVars.el.setPointerCapture(ev.pointerId)},pointermoveHandler=function(ev){if(globalVars.currentState){if(1===globalVars.evCache.length){var _getDiffXY=getDiffXY(ev.clientX,ev.clientY),dx=_getDiffXY.dx,dy=_getDiffXY.dy,coefficient=.1,scale=getTransformMatrix(globalVars.el)[0],limits=globalVars.elLimit,limitX=ev.target.clientWidth*scale-limits.offsetX,limitY=ev.target.clientHeight*scale-limits.offsetY,martix=[0,0,0,0,dx*coefficient,dy*coefficient],limit=[[NaN,NaN,NaN,NaN,-1*limitX,-1*limitY],[NaN,NaN,NaN,NaN,0,0]];changeElementTransform(globalVars.el,martix,limit)}for(var i=0;i<globalVars.evCache.length;i++){if(ev.pointerId===globalVars.evCache[i].pointerId){globalVars.evCache[i]=ev;break}if(2===globalVars.evCache.length){var curDiffX=Math.abs(globalVars.evCache[0].clientX-globalVars.evCache[1].clientX),curDiffY=Math.abs(globalVars.evCache[0].clientY-globalVars.evCache[1].clientY),curDiff=Math.sqrt(Math.pow(curDiffX,2)+Math.pow(curDiffY,2)),curAngle=180*Math.atan2(curDiffY,curDiffX)/Math.PI;if(globalVars.prevDiff>0&&globalVars.prevAngle>0){var angle=Math.abs(globalVars.prevDiff-curDiff)<15,PINCH_THRESHHOLD=Math.sqrt(Math.pow(ev.target.clientWidth,2)+Math.pow(ev.target.clientHeight,2))/20,pinch=curDiff/2>=PINCH_THRESHHOLD;if(angle){var _getDiffXY2=getDiffXY(ev.clientX,ev.clientY),_dx=_getDiffXY2.dx,_dy=_getDiffXY2.dy,da=curAngle-globalVars.prevAngle,singAngl=1,firstQuarter=_dx>0&&_dy>0&&da<0,secondQuarter=_dx<0&&_dy>0&&da>0,thirdQuarter=_dx<0&&_dy<0&&da<0,fourthQuarter=_dx>0&&_dy<0&&da>0;singAngl=firstQuarter||secondQuarter||thirdQuarter||fourthQuarter?1:-1;var _coefficient=.01*Math.abs(curAngle-globalVars.prevAngle)*singAngl;changeElemenStyle(globalVars.el,_coefficient,"filter","brightness(",")",.01,2)}else if(pinch){var signDiff=curDiff>globalVars.prevDiff?1:-1,_martix=[.1*signDiff,0,0,.1*signDiff,0,0],_limit=[[.6,NaN,NaN,.6,NaN,NaN],[2,NaN,NaN,2,0,0]];changeElementTransform(globalVars.el,_martix,_limit);var _scale=getTransformMatrix(globalVars.el)[0],_limits=globalVars.elLimit,_limitX=ev.target.clientWidth*_scale-_limits.offsetX,_limitY=ev.target.clientHeight*_scale-_limits.offsetY,martixClr=[0,0,0,0,0,0],limitClr=[[NaN,NaN,NaN,NaN,-1*_limitX,-1*_limitY],[NaN,NaN,NaN,NaN,0,0]];changeElementTransform(globalVars.el,martixClr,limitClr)}}globalVars.prevDiff=curDiff,globalVars.prevAngle=curAngle,setState(ev)}}}},removeEvent=function(ev){for(var i=0;i<globalVars.evCache.length;i++)if(globalVars.evCache[i].pointerId===ev.pointerId){globalVars.evCache.splice(i,1);break}},stopMove=function(){globalVars.currentState&&(globalVars.currentState=null)},pointerupHandler=function(ev){globalVars.evCache.length<2&&(globalVars.prevDiff=-1,globalVars.prevAngle=-1),removeEvent(ev),stopMove()}}]);